<div class="user-detail-wrapper">
  <h2>User details</h2>
  <p class="subtitle">Update your personal details and photo here.</p>
  <hr />

  <form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="form-grid">
    <!-- Row 1: First Name + Surname -->
    <div class="form-group">
      <label>Full Name</label>
      <input
        *ngIf="isChangeInformaion"
        type="text"
        formControlName="fullname"
        placeholder="Enter your name"
      />
      <input
        *ngIf="!isChangeInformaion"
        type="text"
        value="{{ user.fullname }}"
        disabled
        placeholder="Enter your name"
      />
    </div>

    <!-- Row 2: Phone Number -->
    <div class="form-group" disabled>
      <label>Phone number</label>
      <div class="phone-wrapper">
        <span class="prefix">+84</span>
        <input type="tel" value="{{ user.phone_number }}" disabled />
      </div>
    </div>

    <!-- Row 3: Address -->
    <div class="form-group full-width">
      <label>Address</label>
      <input type="text" formControlName="address" *ngIf="isChangeInformaion" />
      <input
        type="text"
        value="{{ user.address }}"
        *ngIf="!isChangeInformaion"
        disabled
      />
    </div>

    <!-- Row 3: Role -->
    <div class="form-group full-width">
      <label>Role</label>
      <input type="text" value="{{ user.role | capitalizeFirst }}" disabled />
    </div>

    <!-- Row 4: Date of Birth -->
    <div class="form-group full-width">
      <label>Date of Birth</label>
      <input
        *ngIf="isChangeInformaion"
        type="date"
        formControlName="date_of_birth"
      />
      <input
        *ngIf="!isChangeInformaion"
        type="date"
        value="{{ user.date_of_birth }}"
        disabled
      />
    </div>

    <!-- Row 5: Password Change -->
    <div class="form-group">
      <label>Old Password</label>
      <input
        *ngIf="isChangeInformaion"
        type="password"
        formControlName="old_password"
      />
      <input *ngIf="!isChangeInformaion" type="password" disabled />
    </div>
    <div class="form-group">
      <label>New Password</label>
      <input
        *ngIf="isChangeInformaion"
        type="password"
        formControlName="new_password"
      />
      <input *ngIf="!isChangeInformaion" type="password" disabled />
    </div>

    <!-- Optional: Photo Upload -->
    <!--
      <div class="form-group full-width photo-section">
        <label>Photo</label>
        <div class="photo-upload">
          <img src="assets/images/avatar-placeholder.jpg" alt="Photo" />
          <div class="upload-info">
            <p>Select your photo,<br />up to 5mb.</p>
            <input type="file" (change)="onFileSelected($event)" />
            <button type="button">Upload</button>
          </div>
        </div>
      </div>
      -->

    <!-- Submit -->
    <div
      class="form-group full-width d-flex flex-row justify-content-end gap-2"
      *ngIf="isChangeInformaion"
    >
      <button
        type="button"
        class="btn btn-danger submit-btn"
        (click)="handleChangeInfo()"
      >
        Cancle
      </button>
      <button
        type="submit"
        class="btn btn-primary submit-btn"
        (click)="onSubmit()"
      >
        Save changes
      </button>
    </div>

    <div class="form-group full-width" *ngIf="!isChangeInformaion">
      <button
        type="button"
        (click)="handleChangeInfo()"
        class="submit-btn btn btn-primary"
      >
        Edit
      </button>
    </div>
  </form>
</div>
